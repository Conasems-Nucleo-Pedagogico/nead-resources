<div class="cards-layout">
    <div class="cards-column">
        <style>
            @import url('https://fonts.googleapis.com/css2?family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');
            @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Rubik:ital,wght@0,300..900;1,300..900&display=swap');
        
            .cards {
                position: relative;
                list-style-type: none;
                padding: 0;
            }
        
            .card {
                position: absolute;
                top: 0;
                left: 0;
                width: 40vw;
                height: 45vh;
                background-color: #FFF;
                border-radius: 30px;
                padding: 80px 40px;
                transform: translateY(0) rotate(-4deg) translateX(25px) scale(1);
                transform-origin: 0 0;
                transition: transform 0.6s cubic-bezier(.8, .2, .1, 0.8) 0.1s,
                    background 0.4s linear;
        
                cursor: pointer;
                user-select: none;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                font-family: "Rubik", sans-serif;
                font-size: 18px;
                color: #1E1F21;
        
                :last-child {
                    margin-bottom: 0;
                }
            }
        
            .card--next {
                z-index: 9;
                transform: translateY(-25px) rotate(4deg) translateX(25px) scale(1);
                background: #CFCFCF;
        
            }
        
            .card--out {
                animation: card-out 0.6s cubic-bezier(.8, .2, .1, 0.8);
                transform: translateY(-50px) rotate(8deg) translateX(55px) scale(0.95);
                z-index: 1;
                background: #9D9D9D;
            }
        
            .card--no--animation {
                z-index: 2;
                transform: translateY(-25px) rotate(6deg) translateX(25px) scale(1);
                background: #CFCFCF;
            }
        
            .card--current {
                cursor: auto;
                user-select: auto;
                position: relative;
                z-index: 10;
                opacity: 1;
                transform: rotate(-1deg) translateX(0%) scale(1);
                background: #FFF;
            }
        
            @keyframes card-out {
                0% {
                    z-index: 20;
                    transform: translateY(0px) rotate(-4deg);
                }
        
                50% {
                    transform: translateY(-120%) rotate(-5deg) translateX(-40px);
                }
        
                80% {
                    z-index: 1;
                }
        
                100% {
                    transform: translateY(-50px) rotate(8deg) translateX(55px) scale(0.95);
                }
            }
        
            .card--previous {
                z-index: 1;
                transform: translateY(-25px) rotate(4deg) translateX(25px) scale(1);
                background: #9D9D9D;
        
            }
        
            .card--on {
                animation: card-on 0.6s cubic-bezier(.8, .2, .1, 0.8);
                transform: translateY(0px) rotate(-4deg);
                z-index: 20;
                background: #CFCFCF;
            }
        
            .card--no--animation--return {
                z-index: 3;
                transform: translateY(-25px) rotate(6deg) translateX(25px) scale(1);
                background: #CFCFCF;
            }
        
            .card--current--return {
                cursor: auto;
                user-select: auto;
                position: relative;
                z-index: 20;
                opacity: 1;
                transform: rotate(-1deg) translateX(0%) scale(1);
                background: #FFF;
            }
        
            @keyframes card-on {
                0% {
                    transform: translateY(-50px) rotate(8deg) translateX(55px) scale(0.95);
                    z-index: 1;
                }
        
                50% {
                    transform: translateY(-120%) rotate(-5deg) translateX(-40px);
                }
        
                80% {
                    z-index: 20;
                }
        
                100% {
                    transform: translateY(0px) rotate(-4deg);
                    z-index: 20;
                }
            }
        
            .card h1 {
                margin: 0;
                font-family: "Montserrat", sans-serif;
                font-size: 30px;
                color: #1E1F21;
                padding: 8px;
            }
        
            .subtitle {
                font-size: 14px;
                margin: 24px 100px;
                color: #1E1F21;
                padding-bottom: 24px;
            }
        
            .divider:not(:last-of-type) {
                border-bottom: 4px dotted #1E1F21;
            }
        
            .card-content {
                margin: 24px 100px;
                color: #1E1F21;
        
            }
        
            .card--no--animation2 {
                z-index: 3;
                transform: translateY(-25px) rotate(6deg) translateX(25px) scale(1);
                background: #CFCFCF;
            }
        </style>
        
        <ul class="cards">
        </ul>
    </div>
    
    <div class="content-column">
        <div class="text-content">
            <h2>Lorem Ipsum</h2>
            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
        
        <div class="control-buttons">
            <button id="btn-card-back" class="btn-control btn-back">
                <span>Voltar</span>
            </button>
            <button id="btn-card-front" class="btn-control btn-next">
                <span>Avan√ßar</span>
            </button>
        </div>
    </div>
</div>

<style>
.cards-layout {
    display: flex;
    gap: 100px;
    align-items: flex-start;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

.cards-column {
    flex: 0 0 auto;
    width: 50%;
    height: 400px;
    position: relative;
}

.content-column {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    padding: 40px;
    background: #f8f9fa;
    border-radius: 12px;
    min-height: 400px;
}

.text-content {
    margin-bottom: 40px;
}

.text-content h2 {
    font-size: 28px;
    font-weight: 600;
    margin-bottom: 20px;
    color: #1E1F21;
    font-family: "Montserrat", sans-serif;
}

.text-content p {
    font-size: 16px;
    line-height: 1.6;
    color: #1E1F21;
    font-family: "Rubik", sans-serif;
}

.control-buttons {
    display: flex;
    gap: 20px;
    justify-content: center;
}

.btn-control {
    padding: 12px 24px;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    font-family: "Rubik", sans-serif;
}

.btn-back {
    background: #6c757d;
    color: white;
}

.btn-back:hover {
    background: #5a6268;
}

.btn-next {
    background: #007bff;
    color: white;
}

.btn-next:hover {
    background: #0056b3;
}

.btn-control.hidden {
    opacity: 0.5;
    pointer-events: none;
}

@media (max-width: 768px) {
    .cards-layout {
        flex-direction: column;
        gap: 20px;
    }
    
    .cards-column {
        width: 100%;
        height: 300px;
    }
    
    .content-column {
        min-height: 300px;
        padding: 20px;
    }
    
    .text-content h2 {
        font-size: 24px;
    }
    
    .text-content p {
        font-size: 14px;
    }
}
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const cardTexts = [
            {
                title: "Objetivo 1",
                subtitle: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
                divider: true,
                content: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
            },
            {
                title: "Objetivo 2",
                subtitle: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
                divider: true,
                content: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
            },
            {
                title: "Objetivo 3",
                subtitle: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
                divider: true,
                content: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
            },
            {
                title: "Objetivo 4",
                subtitle: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
                divider: true,
                content: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
            },
            {
                title: "Objetivo 5",
                subtitle: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
                divider: true,
                content: "Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor Lorem ipsum dolor sit amxerci tation ullamcor",
            },
        ];
        const cardsToShow = 3;
        function populateCards() {
            const cardsContainer = document.querySelectorAll('.cards');
            const btnBack = document.querySelector('#btn-card-back');
            const btnFront = document.querySelector('#btn-card-front');
            const btnBackTxt = btnBack?.querySelector('span');
            const btnFrontTxt = btnFront?.querySelector('span');
            const cardBtns = document.querySelectorAll('.btn-cards');


            cardTexts.forEach((card, index) => {
                const liElement = document.createElement('li');
                liElement.classList.add('card');
                liElement.setAttribute('id', `card-${index + 1}`)
                const titleCard = document.createElement('h1');
                const contentCard = document.createElement('p');
                titleCard.innerHTML = card.title;
                contentCard.innerHTML = card.content;
                contentCard.classList.add('card-content');


                liElement.appendChild(titleCard);

                if (card.subtitle) {
                    const subtitle = document.createElement('p');
                    subtitle.innerHTML = card.subtitle;
                    subtitle.classList.add('subtitle');

                    liElement.appendChild(subtitle);
                    if (card.divider) {
                        subtitle.classList.add('divider');
                    }
                }


                liElement.appendChild(contentCard);
                cardsContainer[0].appendChild(liElement)
            })

            btnBack.classList.add('hidden');
            btnFrontTxt.innerHTML = cardTexts[1].title;

            cardsContainer.forEach(element => {
                const cards = element.querySelectorAll('.card')
                cards.forEach((card, index) => {
                    if (index === 0) {
                        card.classList.add('card--current')
                    } else if (index === 1) {
                        card.classList.add('card--next')
                    } else if (index < cardsToShow) {
                        card.classList.add('card--out')
                    } else {
                        card.classList.add('card--no--animation')
                    }
                })

                element.classList.add('cards--active');

                btnFront.addEventListener('click', () => {
                    const cards = element.querySelectorAll('.card');
                    let current = element.querySelector('.card--current') ?? element.querySelector('.card--current--return');
                    let currentIdNumber = Number(current.id.split('-')[1]);
                    let next = element.querySelector('.card--next')

                    if (currentIdNumber === 1) {
                        btnBackTxt.innerHTML = cardTexts[0].title;
                        btnBack.classList.remove('hidden')
                    }

                    cards.forEach(function (card) {
                        card.classList.remove('card--current', 'card--out', 'card--next', 'card--current--return', 'card--on', 'card--previous', 'card--no--animation2');
                    });

                    current.classList.add('card--out');

                    current = document.querySelector(`#card-${currentIdNumber + 1}`);
                    current.classList.add('card--current');
                    next = current.nextElementSibling;


                    if (!next) {
                        next = cards[0];

                        btnFront.classList.add('hidden')
                        btnBackTxt.innerHTML = cardTexts[currentIdNumber - 1].title;
                    } else {
                        btnBackTxt.innerHTML = cardTexts[currentIdNumber - 1].title;
                        btnFrontTxt.innerHTML = cardTexts[currentIdNumber + 1].title;
                    }

                    next.classList.add('card--next');

                    cards.forEach((card) => {
                        if (card.classList.contains('card--no--animation')) {
                            card.classList.remove('card--no--animation')
                        }
                        if (!(card.classList.contains('card--current') || card.classList.contains('card--out') || card.classList.contains('card--next'))) {
                            card.classList.add('card--no--animation')
                        }
                    })
                });

                btnBack.addEventListener('click', () => {
                    const cards = element.querySelectorAll('.card');
                    let current = element.querySelector('.card--current') ?? element.querySelector('.card--current--return');
                    let currentIdNumber = Number(current.id.split('-')[1]);
                    let previousCard = element.querySelector(`#card-${currentIdNumber - 1}`)
                    let previousCardIdNumber = Number(previousCard.id.split('-')[1]);
                    let auxiliary = current;

                    if (previousCard) {
                        cards.forEach(function (card) {
                            card.classList.remove('card--current', 'card--out', 'card--next', 'card--current--return', 'card--on', 'card--previous', 'card--no--animation2');
                        });

                        previousCard.classList.add('card--on');
                        current = previousCard;
                        current.classList.add('card--current--return');
                        previousCard = current.previousElementSibling;

                        if (currentIdNumber === 2) {
                            btnBackTxt.innerHTML = cardTexts[0].title;
                            btnBack.classList.add('hidden')
                        }

                        if (!previousCard) {
                            previousCard = cards[cards.length - 1];
                            btnBack.classList.add('hidden');
                            btnFrontTxt.innerHTML = cardTexts[1].title;
                        } else {
                            btnFront.classList.remove('hidden');
                            btnFrontTxt.innerHTML = cardTexts[previousCardIdNumber].title;
                            btnBackTxt.innerHTML = cardTexts[previousCardIdNumber - 2].title
                        }

                        previousCard.classList.add('card--previous')

                        cards.forEach((card) => {
                            if (card === auxiliary) {
                                card.classList.add('card--no--animation2')
                            }
                            if (card.classList.contains('card--no--animation')) {
                                card.classList.remove('card--no--animation')
                            }
                            if (!(card.classList.contains('card--current') || card.classList.contains('card--out') || card.classList.contains('card--next') || card.classList.contains('card--current--return') || card.classList.contains('card--on') || card.classList.contains('card--no--animation2') || card.classList.contains('card--previous'))) {
                                card.classList.add('card--no--animation')
                            }
                        })
                    }
                })
            })
        }


        populateCards();
    })
</script>